---
title: "[AWS] nohup을 이용해 원격ssh종료시 서버유지하기 "
date: "2024-04-07"
---

현재 db ec2와 스프링 ec2연결까지 완료했다. 하지만 사소한 문제가 발생하였다. 원격 터미널 접속 종료시 배포 중인 서버도 함께 종료되는것.

### 해결
nohup을 이용하면 백그라운드에서 실행할 수 있다. 로그를 볼 수 있고, 종료를 원할 시에는 흔히 아는 taskkill을 통해 가능하다. 또한 부가 옵션을 지정하는것도 가능하다.

자바기준
```java
nohup java -jar [빌드파일]-0.0.1-SNAPSHOT.jar &
```
주요 코드는 nohup ~ & 이다. &를 붙여야 백그라운드로 실행되고 안붙이면 포그라운드로 실행된다.

### 주요 명령어
실행중인 서버의 로그를 볼때
```
tail -f nohup.out
```

현재 실행중인 프로세스를 보거나, 종료할 프로세스 ID값을 찾기위해
```
ps aux | grep java
```

종료시
```
sudo kill -9 [PID]
```